---
layout: post
title: "Differentiation-3"
author: "Karthik"
categories: journal
tags: [documentation,sample]
---

[Link to previous part](https://bvenkatakarthik.github.io/bDiff)

**ROUGH NOTES (!)**   
Updated: 31/5/24 

Sections: Second derivative; Third derivative; Higher derivatives; Taylorâ€™s theorem. 

###### 6

$${ \underline{\textbf{Second derivative}} }$$

**Def** [${ C ^2 }$ maps]: Let ${ E, F }$ be complete normed spaces, and ${ f : U (\subseteq E \text{ open}) \to F .}$    
We say ${ f }$ is ${ C ^2 }$ if it is ${ C ^1 }$ and the derivative ${ Df : U \to L(E, F) }$ is ${ C ^1 , }$ that is if the derivatives  

$${ Df : U \longrightarrow L(E, F),  }$$ 

$${ D(Df) = D^2 f : U \longrightarrow L(E, L(E, F)) }$$ 

exist and are continuous. 

The codomain ${ L (E, L(E, F)) }$ above is infact the space of continuous bilinear maps ${ L ^2 (E; F) .}$ 

**Obs** [${ L(E, L(E, F)) \cong L ^2 (E; F)  }$ as normed spaces]:    
Let ${ E, F }$ be complete normed spaces. Recall ${ L ^k (E; F) }$ is the space of continuous multilinear maps ${ \underbrace{E \times \ldots \times E} _{k \text{ many}}  \to F . }$ Now 

$${ \Phi :  L(E, L(E, F)) \longrightarrow L ^{2} (E; F),  }$$ 

$${ \lambda \longmapsto ( (x _1, x _2) \mapsto \lambda (x _1) (x _2)  )  }$$ 

is an isomorphism of normed spaces. 

> Here ${ \lambda }$ in ${ L(E, L(E, F)) }$ takes inputs as ${ \lambda (\underline{\,}) (\underline{\,})  ,}$ and ${ \Phi (\lambda) }$ in ${ L ^2 (E; F) }$ takes inputs as ${ \Phi (\lambda) (\underline{\,}, \underline{\,}) .}$    
> Writing (informally) ${ \Phi (\lambda) }$ as ${ \lambda (\underline{\,} , \underline{\,}) ,}$ the normed space isomorphism is 
> 
> $${ \begin{align*} &\, L(E, L(E, F)) \overset{\cong}{\longleftrightarrow} L ^2 (E; F) , \\ &\, \quad \lambda (\_) (\_) \quad \longleftrightarrow \quad \lambda (\_ \, , \, \_) . \end{align*} }$$ 

**Pf**: Firstly, if ${ \lambda \in L(E, L(E, F)) }$ then 

$${  \Phi(\lambda) :  (x _1, x _2) \mapsto \lambda (x _1) (x _2) }$$

is in ${ L ^2 (E; F) }$: Bilinearity of ${ \Phi (\lambda) }$ is clear, and continuity of ${ \Phi(\lambda) }$ is because 

$${ \begin{align*} \lVert \lambda (x _1) (x _2) \rVert \leq &\, \lVert \lambda (x _1) \rVert \lVert x _2 \rVert \quad (\text{as } \lambda(x _1) \in L(E, F)) \\ \leq &\, \lVert \lambda \rVert \lVert x _1 \rVert \lVert x _2 \rVert  \quad (\text{as } \lambda \in L(E, L(E, F))).  \end{align*} }$$ 

So ${ \Phi }$ is well-defined. 

Linearity of ${ \Phi }$ is clear. 

The above inequality gives 

$${ \lVert \Phi (\lambda) \rVert \leq \lVert \lambda \rVert ,   }$$ 

but even 

$${ \begin{align*} \lVert \lambda \rVert = &\, \sup _{x _1 \neq 0} \frac{\lVert \lambda (x _1) \rVert _{L(E, F)} }{\lVert x _1 \rVert} \\ = &\, \sup _{x _1\neq 0} \left( \sup _{x _2  \neq 0} \frac{\lVert \lambda(x _1)(x _2)\rVert}{\lVert x _1 \rVert \lVert x _2  \rVert}   \right) \\ \leq &\, \sup _{x _1 \neq 0} \lVert \Phi (\lambda) \rVert   = \lVert \Phi (\lambda) \rVert ,    \end{align*} }$$ 

so 

$${ \lVert \Phi (\lambda) \rVert = \lVert \lambda \rVert   }$$ 

that is ${ \Phi }$ preserves norms. 

It is left to show that ${ \Phi }$ is a bijection. 

Surjectivity of ${ \Phi }$: Say ${ f \in L ^2 (E; F) . }$ We want an ${ f _0 \in L(E, L(E, F)) }$ such that ${ \Phi (f _0) = f .}$    
Informally, defining ${ f _0 := f(\underline{\,}) (\underline{\,}) }$ works. Formally, consider 

$${ f _0 : E \longrightarrow L(E, F) , }$$ 

$${ x _1 \longmapsto (x _2  \mapsto f(x _1, x _2)) . }$$ 

Each ${ f _0 (x _1 ) }$ is in ${ L(E, F) , }$ because linearity of ${ f _0 (x _1) : E \to F  }$ is clear and  

$${ \sup _{x _2\neq 0} \frac{\lVert f _0 (x _1) (x _2) \rVert}{\lVert x _2 \rVert} = \sup _{x _2 \neq 0} \frac{\lVert f(x _1, x _2) \rVert}{\lVert x _2 \rVert} \leq \lVert f \rVert \lVert x _1 \rVert < \infty .  }$$

Now ${ f _0 \in L(E, L(E, F)) , }$ because linearity of ${ f _0 }$ is clear and 

$${ \begin{align*} \sup _{x _1 \neq 0} \frac{\lVert f _0 (x _1) \rVert _{L(E, F)}}{\lVert x _1 \rVert} = &\, \sup _{x _1 \neq 0} \left( \sup _{x _2 \neq 0} \frac{\lVert f _0 (x _1) (x _2)  \rVert }{\lVert x _1 \rVert \lVert x _2  \rVert}  \right) \\ \leq &\sup _{x _1 \neq 0} \lVert f \rVert = \lVert f \rVert < \infty . \end{align*}  }$$ 

Finally ${ \Phi(f _0) = f }$ because 

$${ \begin{align*} \Phi(f _0) \, (x _1, x _2) = &\, f _0 (x _1) (x _2)  \\ = &\, f \, (x _1, x _2)  \end{align*}  }$$ 

for all ${ x _1, x _2 \in E .  }$ 

Injectivity of ${ \Phi }$: Say ${ \Phi(\lambda _1) = \Phi (\lambda _2) }$ for some ${ \lambda _1, \lambda _2 \in L(E, L(E, F) ) .}$ Now 

$${ \begin{align*} \lVert \lambda _1 - \lambda _2 \rVert = &\, \lVert \Phi (\lambda _1 - \lambda _2) \rVert \\ = &\, \lVert \Phi(\lambda _1) - \Phi (\lambda _2) \rVert  \\ = &\, 0, \end{align*} }$$ 

so ${ \lambda _1 = \lambda _2 . }$  

Therefore ${ \Phi }$ is an isomorphism of normed spaces, as needed. ${ \blacksquare }$ 

**Obs**: Any bilinear map 

$${ \lambda : \mathbb{R} ^n \times \mathbb{R} ^n \to \mathbb{R} ^m , \quad \lambda = (\lambda _1, \ldots, \lambda _m) ^T  }$$ 

is continuous because each component 

$${   \lambda _i (x _1, x _2) = \sum _{j _1, j _2  \in [n]}  (x _1) _{j _1} (x _2) _{j _2}   \lambda _i (e _{j _1}, e _{j _2})   }$$

is continuous. 

**Obs** [${ C ^2 }$ maps ${ \mathbb{R} ^n \to \mathbb{R} ^m }$]:    
Consider ${ f : U (\subseteq \mathbb{R} ^n \text{ open}) \to \mathbb{R} ^m .}$    
From the previous result on ${ C ^1 }$ maps ${ \mathbb{R} ^n \to \mathbb{R} ^m ,}$

$${ \begin{align*} &(f : U \to \mathbb{R} ^m \text{ is } C ^2) \\ \iff &\left(f \text{ is } C ^1 \text{ and } Df: U \to L(\mathbb{R} ^n, \mathbb{R} ^m) \text{ is } C ^1 \right) \\ \iff &\left(f \text{ is } C ^1 \text{ and } Df: U \to (L(\mathbb{R} ^n, \mathbb{R} ^m), \lVert \cdots \rVert _F) \cong \mathbb{R} ^{mn} \text{ is } C ^1  \right) \\ \iff &\left(\begin{aligned} &\text{All partials } D _{j _1} f _i : U \to \mathbb{R} \text{ exist and are continuous;} \\ &\text{All partials } D _{j _1} D _{j _2} f _i : U \to \mathbb{R} \text{ exist and are continuous} \end{aligned}    \right)  . \end{align*} }$$    

**Thm** [${ D ^2 f }$ for ${ C ^2 }$ maps ${\mathbb{R} ^n \to \mathbb{R} ^m }$]:    
Let ${ f : U (\subseteq \mathbb{R} ^n \text{ open}) \to \mathbb{R} ^m }$ be a ${ C ^2 }$ map and ${ x \in U . }$ Then the second derivative 

$${ D^2 f (x) \in  L(\mathbb{R} ^n, L(\mathbb{R} ^n, \mathbb{R} ^m)) \cong L ^2 (\mathbb{R} ^n; \mathbb{R} ^m)    }$$ 

is given by its action on basis vectors 

$${  D ^2 f (x) : \mathbb{R} ^n \times \mathbb{R} ^n \to \mathbb{R} ^m \text{ bilinear,}  }$$ 

$${ \boxed{\begin{align*} D ^2 f (x) \quad  \underbrace{(e _{j _1})} _{\text{in } \mathbb{R} ^n} \quad \underbrace{(e _{j _2})} _{\text{in } \mathbb{R} ^n} = &\, \underbrace{\begin{pmatrix} D _{j _1}  D _{j _2} f _1 (x) \\ \vdots \\ D _{j _1}  D _{j _2} f _m (x)   \end{pmatrix}} _{\text{in } \mathbb{R} ^m} \end{align*} }   }$$ 

that is 

$${ D ^2 f (x) (x _1) (x _2) = \sum _{j _1, j _2 \in [n]} (x _1) _{j _1} (x _2) _{j _2} \begin{pmatrix} D _{j _1} D _{j _2} f _1 (x) \\ \vdots \\ D _{j _1} D _{j _2} f _m (x) \end{pmatrix}   . }$$ 

> For ${ m = 1 , }$ this second derivative looks like 
> 
 > $${ D ^2 f (p) : \mathbb{R} ^n \times \mathbb{R} ^n \to \mathbb{R} \text{ bilinear,} }$$ 
>
>  $${ \begin{align*} D ^2 f (p) \, (x) (y) = &\, \sum _{i, j} x _i y _j D ^2 f (p) (e _i) (e _j) \\ = &\, \sum _{i, j} x _i y _j D _i D _j f(p) \\ = &\, x ^T \begin{pmatrix} D _1 D _1 f(p) &\cdots &D _1 D _n f(p) \\ \vdots &\ddots &\vdots \\ D _n D _1 f(p) &\cdots &D _n D _n f(p)  \end{pmatrix} y  \\ = &\, x ^T H f (p) y \end{align*} }$$ 
> 
 > and ${ H f (p) = [D _i D _j f(p)]  }$ is called the Hessian. 

 **Pf**: Let ${ f : U (\subseteq \mathbb{R} ^n \text{ open}) \to \mathbb{R} ^m }$ be ${ C ^2 }$ and ${ x \in U . }$ By the definition of derivative, for ${ h }$ in a neighbourhood of ${ 0, }$ 

 $${ \begin{align*} &Df(x+h) = Df(x) + D ^2 f(x) \, h + \lVert h \rVert \varphi (h) \text{ in } L(\mathbb{R} ^n, \mathbb{R} ^m) \\ &\, \text{with } \varphi(0) = 0 \text{ and } \varphi (h) \text{ continuous at } 0 .    \end{align*} }$$

 So (for ${ t _1 }$ in a neighbourhood of ${ 0 }$) 

 $${ \begin{align*} Df(x + t _1 e _{j _1}) \, e _{j _2} = &\, Df (x) \, e _{j _2}  + D ^2 f (x) (t _1 e _{j _1}) (e _{j _2}) \\  &\, + \lVert t _1 e _{j _1} \rVert \varphi (t _1 e _{j _1}) \, e _{j _2}  \end{align*}   }$$ 

 that is 

 $${ \begin{align*} \begin{pmatrix} D _{j _2} f _1 (x + t _1 e _{j _1}) \\ \vdots \\ D _{j _2} f _m (x + t _1 e _{j _1})  \end{pmatrix}   = &\, \begin{pmatrix} D _{j _2} f _1 (x) \\ \vdots \\ D _{j _2} f _m (x) \end{pmatrix} + t _1 D ^2 f (x) (e _{j _1}) (e _{j _2}) \\ &\, +  \vert t _1 \vert \varphi (t _1 e _{j _1})  \, e _{j _2} . \end{align*}   }$$ 

 Dividing by ${ t _1 \neq 0 }$ and letting ${ t _1 \to 0  }$ gives  

 $${ D ^2 f (x) (e _{j _1}) (e _{j _2}) = \begin{pmatrix} D _{j _1} D _{j _2} f _1 (x) \\ \vdots \\ D _{j _1} D _{j _2} f _m (x) \end{pmatrix}  }$$ 

 as needed. ${ \blacksquare }$ 

 **Thm** [Second derivatives are symmetric]:    
 Let ${ E, F }$ be complete normed spaces and ${ f : U (\subseteq E \text{ open}) \to F }$ a ${ C ^2 }$ map.    
 Then for every ${ x \in U, }$ the bilinear map ${ D ^2 f(x) }$ is symmetric that is 

 $${ D ^2 f (x) (v) (w) = D ^2 f (x) (w) (v). }$$ 

 > So especially if ${ f : U (\subseteq \mathbb{R} ^n \text{ open}) \to \mathbb{R} }$ is ${ C ^2 ,}$ its Hessian at every point is symmetric. 

 **Pf**: Let ${ x \in U . }$ There is an ${ r > 0 }$ such that ${ B(x, r) \subseteq U .}$    
 
 Pick any ${ v, w \in E }$ with lengths ${ \lVert v \rVert, \lVert w \rVert < \frac{r}{2} .}$ The length constraint is so that the points ${ x, x + v, x + w, x + v+w }$ are all in the ball. 
 
 As ${ D ^2 f (x) }$ scales as ${ D ^2 f (x) (\lambda v) (\mu w) = \lambda \mu D ^2 f (x) (v) (w) ,}$ it suffices to show 

 $${ \text{To show: } D ^2 f (x) (v) (w) = D ^2 f (x) (w) (v) . }$$ 

 > **Heuristic**: We have two approximations 
> 
> $${ \begin{align*} f(x + v + w) \approx &\, f(x + v) + Df(x+v) \, w \\ \approx &\, f(x) + Df(x) \, v \\ &\, + [ Df(x) + D ^2 f(x) (v)  ] w  \end{align*} }$$ 
>
> and 
> 
> $${ \begin{align*} f(x + v + w) \approx &\, f(x + w) + Df(x+w) \, v \\ \approx &\, f(x) + Df(x) \, w \\ &\, + [ Df(x) + D ^2 f(x) (w)  ] v . \end{align*}  }$$ 
> 
> Comparing both, one expects 
> 
> $${ D ^2 f (x) (v) (w) = D ^2 f (x) (w) (v)  }$$
> 
> to hold. 

 Consider the difference maps 

 $${ G _v, G _w  : B (x, r/2) \longrightarrow F,   }$$ 

 $${ G _v (t) := f(t+v) - f(t), }$$ 
 
 $${ G _w (t) := f(t+w) - f(t) . }$$ 

 Applying ${ C ^1 }$ mean value theorem twice, 

 $${ \begin{align*} &\, G _v (x+w) - G _v (x) \\ = &\, \left( \int _0 ^1 DG _v (x+tw) \, dt \right) \cdot w  \\ = &\,   \int _0 ^1 [ Df (x + tw + v) -  Df (x + tw ) ] \, dt  \cdot w \\ = &\, \int _0 ^1  \left[ \int _0 ^1 D ^2 f (x + tw + sv) \cdot v \, ds \right] \, dt \cdot w \\ = &\, \int _0 ^1  \left[ \int _0 ^1 D ^2 f (x + tw + sv) \, ds \right] \, dt \, (v) (w)  \end{align*}   }$$ 

 and similarly 

 $${ \begin{align*} &G _w (x + v) - G _w (x) \\ = &\, \int _0 ^1  \left[ \int _0 ^1 D ^2 f (x + tv + sw) \, ds \right] \, dt \, (w) (v).   \end{align*} }$$ 

 But note the differences 

 $${ G _v (x + w) - G _v (x) = f(x+w+v) - f(x+w) - (f(x+v) - f(x))  }$$ 

 $${ G _w (x + v) - G _w (x ) = f(x + v + w) - f(x+v) - (f(x+w) - f(x))  }$$ 

 are equal, so 

 $${ \begin{align*} &\int _0 ^1  \left[ \int _0 ^1 D ^2 f (x + tw + sv) \, ds \right] \, dt \, (v) (w) \\ = &\, \int _0 ^1  \left[ \int _0 ^1 D ^2 f (x + tv + sw) \, ds \right] \, dt \, (w) (v) \end{align*}  }$$ 

that is 

$${ \begin{align*} &\, D ^2 f (x) (v) (w) + \underbrace{\int _0 ^1  \left[ \int _0 ^1 D ^2 f (x + tw + sv) - D ^2 f (x)  \, ds \right] \, dt \, (v) (w)} _{=: \, \Phi (v, w)} \\ = &\, D ^2 f (x) (w) (v) +  \underbrace{\int _0 ^1  \left[ \int _0 ^1 D ^2 f (x + tv + sw) - D ^2 f (x) \, ds \right] \, dt \, (w) (v)} _{=: \, \Psi (v, w)} .  \end{align*} }$$ 

The residues ${ \Phi (v, w) , \Psi (v, w)  }$ are bounded by 

$${ \begin{align*} &\lVert \Phi (v, w) \rVert \\ \leq &\, \left\lVert \int _0 ^1  \left[ \int _0 ^1 D ^2 f (x + tw + sv) - D ^2 f (x)  \, ds \right] \, dt \right\rVert \lVert v \rVert \lVert w \rVert  \\ \leq &\, \sup _{0 \leq t \leq 1} \left\lVert \int _0 ^1 D ^2 f (x + tw + sv) - D ^2 f (x)  \, ds\right\rVert \lVert v \rVert \lVert w \rVert \\ \leq &\, \sup _{0 \leq t \leq 1} \left( \sup _{0 \leq s \leq 1} \left\lVert D ^2 f (x + tw + sv) - D ^2 f (x) \right\rVert   \right) \lVert v \rVert \lVert w \rVert \\ \leq &\, \sup _{0 \leq t \leq 1} \left( \sup _{0 \leq s, t \leq 1} \left\lVert D ^2 f (x + tw + sv) - D ^2 f (x) \right\rVert   \right) \lVert v \rVert \lVert w \rVert \\ = &\, \sup _{0 \leq s, t \leq 1} \left\lVert D ^2 f (x + tw + sv) - D ^2 f (x) \right\rVert \lVert v \rVert \lVert w \rVert  \end{align*} }$$ 

and 

$${ \lVert \Psi (v, w) \rVert \leq \sup _{0 \leq s, t \leq 1}  \left\lVert D ^2 f (x + tv + sw) - D ^2 f (x)  \right\rVert \lVert w \rVert \lVert v \rVert .  }$$ 

So 

$${ \begin{align*} &\lVert D ^2 f(x) (v)(w) - D ^2 f (x) (w) (v) \rVert \\ = &\, \lVert \Phi (v, w) - \Psi (v, w) \rVert \\ \leq &\, 2 \sup _{0 \leq s, t \leq 1}  \left\lVert D ^2 f (x + tw + sv) - D ^2 f (x) \right\rVert \lVert v \rVert \lVert w \rVert .  \end{align*}  }$$ 

Replacing ${ v, w }$ with ${ \tau v, \tau w }$ (where ${ \tau \in (0, 1) }$) in the above inequality and using continuity of ${ D ^2 f , }$

$${ \begin{align*} &\lVert D ^2 f(x) (v)(w) - D ^2 f (x) (w) (v) \rVert \\ \leq &\, 2 \sup _{0 \leq s, t \leq 1}  \left\lVert D ^2 f (x + \tau(tw + sv)) - D ^2 f (x) \right\rVert \lVert v \rVert \lVert w \rVert \\ &\, \to 0 \text{ as } \tau \to 0 .  \end{align*}  }$$ 

Therefore 

$${ D ^2 f (x) (v) (w) = D ^2 f (x) (w) (v) }$$

as needed. ${ \blacksquare }$ 

###### 7

$${ \underline{\textbf{Third derivative}} }$$ 

**Def** [${ C ^3 }$ maps]: Let ${ E, F }$ be complete normed spaces, and ${ f : U (\subseteq \mathbb{E} \text{ open}) \to F .}$    
We say ${ f }$ is ${ C ^3 }$ if it is ${ C ^2 }$ and the second derivative is ${ C ^1 , }$ that is if the derivatives 

$${ Df : U \longrightarrow L(E, F) , }$$ 

$${D(Df) = D ^2 f : U \longrightarrow L (E, L(E, F)),   }$$ 

$${ D (D ^2 f) = D ^3 f : U \longrightarrow L(E, L (E, L(E, F)))  }$$ 

exist and are continuous. 

We saw ${ L(E, L(E, F)) \cong L ^2 (E; F)  }$ as normed spaces. This can be generalised. 

**Obs** [${ L (E, L ^k (E; F)) \cong L ^{k+1} (E; F) }$ as normed spaces]:    
Let ${ E, F }$ be complete normed spaces. Then

$${ \Phi : L(E, L ^k (E; F)) \longrightarrow L ^{k+1} (E; F),  }$$ 

$${ \lambda \mapsto ((x _1, \ldots, x _{k+1}) \mapsto \lambda (x _1) (x _2, \ldots, x _{k+1})) }$$ 

is an isomorphism of normed spaces.    

> Here ${ \lambda }$ in ${ L(E, L ^k (E; F)) }$ takes inputs as ${ \lambda (\underline{\,}) (\underline{\,}, \ldots, \underline{\,}) , }$ and ${ \Phi (\lambda) }$ in ${ L ^{k+1} (E; F) }$ takes inputs as ${ \Phi (\lambda) (\underline{\,} , \underline{\,} , \ldots , \underline{\,} ) . }$    
> Writing (informally) ${ \Phi (\lambda) }$ as ${ \lambda (\underline{\,} , \underline{\,}, \ldots , \underline{\,}) , }$ the normed space isomorphism is 
> 
> $${ \begin{align*} &L (E, L ^k (E; F)) \overset{\cong}{\longleftrightarrow} L ^{k+1} (E; F) , \\ &\lambda (\underline{\,}) (\underline{\,}, \ldots, \underline{\,}) \longleftrightarrow \lambda (\underline{\,} , \underline{\,}, \ldots , \underline{\,}) . \end{align*} }$$ 

**Pf**: Similar to the previous proof/verification that ${  L (E, L(E, F)) \cong L ^2 (E; F)  }$ as normed spaces. 

**Obs** [${ L(E, \ldots, L(E, L(E, F)) \ldots ) \cong L ^k (E; F) }$ as normed spaces]:    
Let ${ E, F }$ be complete normed spaces. Repeatedly using the above result gives 

$${ \begin{align*} \underbrace{L(E, \ldots , L(E, L(E, L(E, F))) \ldots )} _{k \text{ many } Es} \cong &\, \underbrace{L(E, \ldots, L(E, L ^2 (E; F)) \ldots )} _{k-1 \text{ many } Es} \\  \cong &\, \, \cdots \\ \cong &\, L ^k (E; F) \end{align*} }$$ 

as normed spaces. The composed isomorphism is 

$${\Phi : \underbrace{L(E, \ldots, L(E, F) \ldots)} _{k \text{ many } Es} \longrightarrow L ^k (E; F) ,   }$$ 

$${ \lambda \mapsto ((x _1, \ldots, x _k) \mapsto \lambda (x _1) \ldots (x _k)) .  }$$ 

For example when ${ k = 3, }$ 

$${ \begin{align*} &L(E, L(E, L(E, F))) \overset{\cong}{\longleftrightarrow} L(E, L ^2 (E; F)) \overset{\cong}{\longleftrightarrow} L ^3 (E; F), \\ &\, \quad \lambda (\_) (\_) (\_) \quad \longleftrightarrow \quad \lambda (\_) ( \_ \, , \, \_ ) \quad \longleftrightarrow \quad \lambda (\_ \, , \, \_ \, , \_ ) .  \end{align*}  }$$ 

**Obs**: Any multilinear map 

$${ \lambda : \underbrace{\mathbb{R} ^n \times \ldots \times \mathbb{R} ^n} _{k \text{ many}} \to \mathbb{R} ^m, \quad \lambda = (\lambda _1, \ldots, \lambda _m) ^T }$$ 

is continuous because each component 

$${ \lambda _i (x _1, \ldots, x _k ) = \sum _{j _1 , \ldots, j _k \in [n]} (x _1) _{j _1} \ldots (x _k) _{j _k} \lambda _i (e _{j _1}, \ldots, e _{j _k})  }$$ 

is continuous. 

**Obs**: Any ${ \lambda \in L ^k (\mathbb{R} ^n; \mathbb{R} ^m) }$ expands as above. Note

$${ \Phi : L ^k (\mathbb{R} ^n ; \mathbb{R} ^m) \longrightarrow \lbrace \text{maps } [n] ^k \times [m] \to \mathbb{R} \rbrace,  }$$ 

$${ \lambda \longmapsto \left( (j _1, \ldots, j _k; i) \mapsto \lambda _i (e _{j _1}, \ldots, e _{j _k}) \right)   }$$ 

is linear and bijective, making it an isomorphism of vector spaces.    
Especially ${ L ^k (\mathbb{R} ^n ; \mathbb{R} ^m) }$ is ${ n ^k m }$ dimensional and all norms on it [are equivalent](https://bvenkatakarthik.github.io/EquivNorms).    
The right hand side has the Frobenius norm 

$${ \lVert f \rVert _F = \sqrt{\sum f(j _1, \ldots, j _k; i) ^2 },  }$$ 

therefore 

$${ \lVert \lambda \rVert _{\text{Mult } F} := \lVert \Phi (\lambda) \rVert _F = \sqrt{\sum \lambda _i (e _{j _1}, \ldots, e _{j _k}) ^2 }  }$$ 

is a valid norm on ${ L ^k (\mathbb{R} ^n ; \mathbb{R} ^m ) }$ and makes ${ \Phi }$ an isomorphism of normed spaces. 

**Obs** [${ C ^3 }$ maps ${ \mathbb{R} ^n \to \mathbb{R} ^m }$]:    
Let ${ f : U (\subseteq \mathbb{R} ^n \text{ open}) \to \mathbb{R} ^m .}$ Say ${ f }$ is already ${ C ^2 , }$ that is all partials ${  D _{j _1 } f _i : U \to \mathbb{R}  }$ and ${ D _{j _1} D _{j _2} f _i : U \to \mathbb{R} }$ exist and are continuous.    
Now ${ f }$ is ${ C ^3 }$ if and only if ${ D ^2 f : U \to L ^2 (\mathbb{R} ^n ; \mathbb{R} ^m) }$ is ${ C ^1  , }$ if and only if ${ D ^2 f : U \to (L ^2 (\mathbb{R} ^n ; \mathbb{R} ^m) , \lVert \ldots \rVert _{\text{Mult } F} ) }$ is ${ C ^1 , }$ if and only if 

$${ U \longrightarrow (\lbrace \text{maps } [n] ^2 \times [m] \to \mathbb{R} \rbrace, \lVert \ldots \rVert _F) }$$ 

$${ x \longmapsto \left(\begin{align*} (j _1, j _2; i) \mapsto &\, D ^2 f _i (x) (e _{j _1}) (e _{j _2}) \\  &\, = D _{j _1} D _{j _2} f _i (x) \end{align*} \right) }$$ 

is ${ C ^ 1 , }$ if and only if all partials ${ D _{j _1} D _{j _2} D _{j _3} f _i : U \to \mathbb{R} }$ exist and are continuous. 

**Thm** [${ D ^3 f }$ for ${ C ^3 }$ maps ${ \mathbb{R} ^n \to \mathbb{R} ^m }$]:    
Let ${ f : U (\subseteq \mathbb{R} ^n \text{ open}) \to \mathbb{R} ^m }$ be a ${ C ^3 }$ map and ${ x \in U . }$    
Then the third derivative 

$${ D ^3 f (x) \in L (\mathbb{R} ^n , L(\mathbb{R} ^n, L(\mathbb{R} ^n, \mathbb{R} ^m))) \cong L ^3 (\mathbb{R} ^n; \mathbb{R} ^m) }$$ 

is given by its action on basis vectors 

$${ D ^3 f : \mathbb{R} ^n \times \mathbb{R} ^n \times \mathbb{R} ^n \to \mathbb{R} ^m \quad \text{multilinear},  }$$ 

$${ \boxed{D ^3 f (x) (e _{j _1}) (e _{j _2}) (e _{j _3}) =  \begin{pmatrix} D _{j _1} D _{j _2} D _{j _3} f _1 (x) \\ \vdots \\ D _{j _1} D _{j _2} D _{j _3} f _m (x)  \end{pmatrix} } }$$ 

that is 

$${ \begin{align*} &D ^3 f (x) (x _1) (x _2) (x _3) \\ = &\, \sum _{j _1, j _2, j _3 \in [n]} (x _1) _{j _1} (x _2) _{j _2} (x _3) _{j _3} \begin{pmatrix} D _{j _1} D _{j _2} D _{j _3} f _1 (x) \\ \vdots \\ D _{j _1} D _{j _2} D _{j _3} f _m (x)   \end{pmatrix}. \end{align*}  }$$ 

**Pf**: Let ${ f : U (\subseteq \mathbb{R} ^n \text{ open}) \to \mathbb{R} ^m }$ be ${ C ^3 }$ and ${ x \in U . }$    
By the definition of derivative, for ${ h }$ in a neighbourhood of ${ 0 , }$ 

$${ \begin{align*} &D ^2 f (x + h) = D ^2 f(x) + D ^3 f (x) \, h + \lVert h \rVert \varphi (h) \\ &\, \text{with }  \varphi (0) = 0 \text{ and } \varphi \text{ continuous at } 0 . \end{align*} }$$ 

So (for ${ t _1 }$ in a neighbourhood of ${ 0  }$)

$${ \begin{align*} &D ^2 f(x + t _1 e _{j _1}) \,  (e _{j _2}) (e _{j _3}) \\ = &\, D ^2 f (x) \, (e _{j _2}) (e _{j _3}) + D ^3 f (x) (t _1 e _{j _1}) \,  (e _{j _2}) (e _{j _3}) \\ &+ \lVert t _1 e _{j _1} \rVert \varphi (t _1 e _{j _1}) \, (e _{j _2}) (e _{j _3}) \end{align*}  }$$ 

that is 

$${ \begin{align*} &\begin{pmatrix} D _{j _2} D _{j _3} f _1 (x + t _1 e _{j _1}) \\ \vdots \\ D _{j _2} D _{j _3} f _m (x + t _1 e _{j _1})  \end{pmatrix} \\ = &\, \begin{pmatrix} D _{j _2} D _{j _3} f _1 (x) \\ \vdots \\ D _{j _2} D _{j _3} f _m (x)  \end{pmatrix}  + t _1  D ^3 f (x) (e _{j _1}) (e _{j _2}) (e _{j _3}) \\ &\, + \vert t _1 \vert \varphi (t _1 e _{j _1}) \, (e _{j _2}) (e _{j _3}) .  \end{align*} }$$ 

Dividing by ${ t _1 \neq 0 }$ and letting ${ t _1 \to 0 }$ gives 

$${ D ^3 f (x) (e _{j _1}) (e _{j _2}) (e _{j _3}) = \begin{pmatrix} D _{j _1} D _{j _2} D _{j _3} f _1 (x) \\ \vdots \\  D _{j _1} D _{j _2} D _{j _3} f _m (x) \end{pmatrix}   }$$ 

as needed. ${ \blacksquare }$ 

###### 8

$${ \underline{\textbf{Higher derivatives}} }$$ 

**Def** [${ C ^k }$ maps]: Let ${ E, F }$ be complete normed spaces, and ${ f : U (\subseteq E \text{ open}) \to F .}$    
We say ${ f }$ is ${ C ^k }$ if the derivatives 

$${ Df : U \longrightarrow L(E, F),  }$$ 

$${ D ^2 f : U \longrightarrow L (E, L(E, F)) \cong L ^2 (E; F), }$$ 

$${ \vdots  }$$ 

$${ D ^k f : U \longrightarrow \underbrace{L(E, \ldots L(E, F) \ldots )} _{k \text{ many } Es}  \cong L ^k (E; F)  }$$ 

exist and are continuous. 

**Obs** [${ C ^k }$ maps ${ \mathbb{R} ^n \to \mathbb{R} ^m }$]:    
Let ${ f : U (\subseteq \mathbb{R} ^n \text{ open}) \to \mathbb{R} ^m .}$ Then ${ f }$ is a ${ C ^k }$ map if and only if all partials ${ D _{j _1} f _i : U \to \mathbb{R}, }$ ${ D _{j _1} D _{j _2} f _i : U \to \mathbb{R}, }$ ${ \ldots, }$  ${ D _{j _1} \ldots D _{j _k} f _i : U \to \mathbb{R} }$ exist and are continuous.    
**Pf**: Proof by induction. Similar to the proof for ${ C ^2 }$ and ${ C ^3 }$ maps. 

**Obs** [${ D ^k f }$ for ${ C ^k }$ maps ${ \mathbb{R} ^n \to \mathbb{R} ^m }$]:    
Let ${ f : U (\subseteq \mathbb{R} ^n \text{ open}) \to \mathbb{R} ^m }$ be a ${ C ^k }$ map and ${ x \in U . }$    
Then the ${ k ^{\text{th}} }$ derivative 

$${ D ^k f (x) \in \underbrace{L(\mathbb{R} ^n \ldots L(\mathbb{R} ^n, \mathbb{R} ^m)  \ldots )} _{k \text{ nestings}} \cong L ^k (\mathbb{R} ^n; \mathbb{R} ^m)   }$$ 

is given by its action on basis vectors 

$${ D ^k f (x) : \underbrace{\mathbb{R} ^n \times \ldots \times \mathbb{R} ^n} _{k \text{ many}} \longrightarrow \mathbb{R} ^m \quad \text{ multilinear},  }$$ 

$${ \boxed{D ^k f(x) (e _{j _1}) \ldots (e _{j _k}) = \begin{pmatrix} D _{j _1} \ldots D _{j _k} f _1 (x) \\ \vdots \\ D _{j _1} \ldots D _{j _k} f _m (x)  \end{pmatrix} }  }$$ 

that is 

$${ \begin{align*} D ^k f (x) (x _1) \ldots (x _k)  =  &\, \sum _{j _1, \ldots, j _k \in [n]}  (x _1) _{j _1} \ldots (x _k) _{j _k} \begin{pmatrix} D _{j _1} \ldots D _{j _k} f _1 (x) \\ \vdots \\ D _{j _1} \ldots D _{j _k} f _m (x)  \end{pmatrix} .   \end{align*} }$$ 

**Pf**: Similar to the proof for ${ C ^2 }$ and ${ C ^3 }$ maps.  

###### 9

$${ \underline{\textbf{Taylorâ€™s Theorem}} }$$ 

Recall the proof of Taylorâ€™s theorem [for real functions](https://math.stackexchange.com/a/4201118/303300) (using integration by parts). It generalises as follows. 

**Thm** [Taylorâ€™s theorem]:    

Consider complete normed spaces ${ E, F, }$ and a ${ C ^p }$ map ${ f : U (\subseteq E \text{ open}) \to F  .}$ Fix an ${ x \in U . }$    

Let ${ y \in U }$ be such that the segment ${ [[x, x + y]] = \lbrace x + ty : t \in [0, 1] \rbrace }$ is contained in ${ U . }$ Then, denoting by ${ y ^{(k)} }$ the ${ k -}$tuple ${ (y, \ldots, y), }$ we have 

$${ \begin{align*} &f(x+y) \\ = &\, f(x) + \frac{Df(x) y ^{(1)}}{1!} + \ldots +  \frac{D ^p f(x) y ^{(p)} }{p!} + R _p (y) \end{align*} }$$ 

where 

$${ R _p (y) = \int _0 ^1  \frac{(1-t) ^{p-1}}{(p-1)!} [ D ^p f(x + ty) - D ^p f (x)] y ^{(p)} \, dt .   }$$ 

> **Lem**: If ${ F }$ is a complete normed space and ${ f : [a, b] \to F }$ is regulated, then ${ \lVert f \rVert }$ is regulated and ${ \lVert \int _a ^b f \rVert \leq \int _a ^b \lVert f \rVert .}$    
**Pf**: There are step maps ${ s _n : [a,  b] \to F }$ converging uniformly to ${ f .}$ Now ${ \sup _{t \in [a, b]} \vert \lVert s _n (t) \rVert - \lVert f (t) \rVert \vert \leq \lVert s _n - f \rVert \to 0  }$ so step maps ${ \lVert s _n \rVert  }$ converge uniformly to ${ \lVert f \rVert  . }$ Also each term ${ \lVert \int _a ^b s _n \rVert \leq \int _a ^b \lVert s _n \rVert, }$ so letting ${ n \to \infty }$ gives ${ \lVert \int _a ^b f \rVert \leq \int _a ^b \lVert f \rVert  }$ as needed. 
> 
> Therefore the remainder ${ R _p (y) }$ can be bounded as 
> 
> $${ \begin{align*} \lVert R _p (y) \rVert \leq &\, \int _0 ^1  \frac{(1-t) ^{p-1} }{(p-1)!} \lVert [D ^p f(x + ty)  - D ^p f(x)] y ^{(p)} \rVert \, dt \\ \leq &\, \sup _{0 \leq t \leq 1} \lVert D ^p f (x + ty) - D ^p (x) \rVert \lVert y \rVert ^p \int _0 ^1 \frac{(1-t) ^{p-1}}{(p-1)!} \, dt \\ = &\, \sup _{0 \leq t \leq 1} \lVert D ^p f (x + ty) - D ^p (x) \rVert \frac{\lVert y \rVert ^p}{p!} . \end{align*}  }$$ 
> 
> Especially, 
> 
> $${ \lim _{y \to 0 } \frac{\lVert R _p (y) \rVert}{\lVert y \rVert ^p} = 0   }$$ 
>
> that is ${ R _p (y) }$ is ${ o(\lVert y \rVert ^p) . }$ 

**Pf**: Consider the continuous bilinear map 

$${ \bullet :  F \times \mathbb{R} \to F, \quad v \bullet a  = a v .  }$$ 

 Using this, we can integrate by parts any product ${ \varphi _1 (t) \bullet D\varphi _2  (t) }$ where ${ \varphi _1 : [0, 1] \to F }$ and ${ \varphi _2 : [0, 1] \to \mathbb{R} }$ are ${ C ^1  }$ maps. So, mimicking the proof for real functions, 

 
$${ \begin{align*} &f(x + y) \\ &\quad \\ = &\, f(x) + \int _0 ^1 \underbrace{Df(x + ty)y} _{\begin{aligned} &\varphi _1 (t) = (Df \circ \sigma )(t)y ; \\ &\sigma(t) = x + ty \end{aligned} }  \bullet \underbrace{1} _{ \begin{aligned} &D\varphi _2 (t);  \\ &\varphi _2 (t) = t-1  \end{aligned} }  \, dt  \\ &\quad \\ = &\, f(x) +  Df(x + ty)y  \bullet (t - 1) \Bigg\vert _0 ^1  \\ &-  \int _0 ^1 D ^2 f (x + ty) y y \bullet (t - 1) \, dt \\ &\quad \\ = &\, f(x) + Df(x) y \\ &- \left( D ^2 f(x + ty) y ^{(2)} \bullet \frac{(t-1) ^2}{2} \Bigg\vert _0 ^1  - \int _0 ^1 D ^3 f(x + ty) y ^{(3)} \bullet \frac{(t-1) ^2}{2} \, dt  \right) \\ &\quad \\ = &\, f(x) + Df(x) y +  \frac{D ^2 f (x) y ^{(2)}}{2} \\ &+ \int _0 ^1 D ^3 f (x + ty) y ^{(3)} \bullet \frac{(t-1) ^2}{2} \, dt  \\ &\quad \\ = &\, f(x) + Df(x) y +  \frac{D ^2 f (x) y ^{(2)}}{2} \\ &+ \left( D ^3 f(x + ty) y ^{(3)} \bullet \frac{(t-1) ^3}{2 \cdot 3 } \Bigg\vert _0 ^1 - \int _0 ^1  D ^4 f (x + ty) y ^{(4)} \bullet \frac{(t-1) ^3}{2 \cdot 3 } \, dt  \right) \\ &\quad \\ = &\, f(x) + Df(x)y + \frac{D ^2 f (x) y ^{(2)}}{2} +  \frac{D ^3 f (x) y ^{(3)} }{2 \cdot 3} \\ &- \int _0 ^1  D ^4 f (x + ty) y ^{(4)} \bullet \frac{(t-1) ^3}{2 \cdot 3 } \, dt \\ &\quad \\ &\quad \vdots \\ &\quad \\ = &\, f(x) + Df(x) y +   \frac{D ^2 f (x) y ^{(2)}}{2} + \ldots + \frac{D ^{p-1} f (x) y ^{(p-1)}}{(p-1)!} \\ &+ (-1) ^{p-1} \int _0 ^1 D ^p f(x + ty) y ^{(p)} \bullet \frac{(t-1) ^{p-1}}{(p-1)!} \, dt \\ &\quad \\ = &\, f(x) + Df(x) y +   \frac{D ^2 f (x) y ^{(2)}}{2} + \ldots + \frac{D ^{p-1} f (x) y ^{(p-1)}}{(p-1)!} \\ &+  \int _0 ^1 \frac{(1-t) ^{p-1}}{(p-1)!} D ^p f(x + ty ) y ^{(p)} \, dt \\ &\quad \\ = &\, f(x) + Df(x) y  + \ldots + \frac{D ^{p-1} f (x) y ^{(p-1)}}{(p-1)!} + \frac{D ^p f(x) y ^{(p)}}{p!} \\ &+ \int _0 ^1  \frac{(1-t) ^{p-1}}{(p-1)!} [ D ^p f(x + ty) - D ^p f(x)] y ^{(p)} \, dt   \end{align*} }$$ 

as needed. ${ \blacksquare }$



